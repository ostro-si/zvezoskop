import{_ as z}from"../chunks/preload-helper.a4192956.js";import{w as _,d as j,b as he}from"../chunks/paths.a45ce7fc.js";import{g as f,s as me,c as ye,u as ge,d as ve,e as be}from"../chunks/scheduler.0aa26d92.js";import{S as ke,i as $e,g as H,m as Oe,s as we,h as q,j as Le,n as _e,f as R,c as je,x as Pe,k as W,a as B,y as G,d as Te,t as Ve}from"../chunks/index.d85c0d9d.js";var Re=Object.defineProperty,xe=Object.defineProperties,Ae=Object.getOwnPropertyDescriptors,S=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable,J=(r,a,e)=>a in r?Re(r,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[a]=e,u=(r,a)=>{for(var e in a||(a={}))te.call(a,e)&&J(r,e,a[e]);if(S)for(var e of S(a))ae.call(a,e)&&J(r,e,a[e]);return r},y=(r,a)=>xe(r,Ae(a)),P=(r,a)=>{var e={};for(var t in r)te.call(r,t)&&a.indexOf(t)<0&&(e[t]=r[t]);if(r!=null&&S)for(var t of S(r))a.indexOf(t)<0&&ae.call(r,t)&&(e[t]=r[t]);return e},N=["error","warn","debug"],re=({logger:r=console,level:a=N[1],prefix:e="[i18n]: "})=>N.reduce((t,l,o)=>y(u({},t),{[l]:i=>N.indexOf(a)>=o&&r[l](`${e}${i}`)}),{}),d=re({}),Se=r=>{d=r},Q=r=>{var a=r,{parser:e,key:t,params:l,translations:o,locale:i,fallbackLocale:s}=a,n=P(a,["parser","key","params","translations","locale","fallbackLocale"]);if(!t)return d.warn(`No translation key provided ('${i}' locale). Skipping translation...`),"";if(!i)return d.warn(`No locale provided for '${t}' key. Skipping translation...`),"";let c=(o[i]||{})[t];if(s&&c===void 0&&(d.debug(`No translation provided for '${t}' key in locale '${i}'. Trying fallback '${s}'`),c=(o[s]||{})[t]),c===void 0){if(d.debug(`No translation provided for '${t}' key in fallback '${s}'.`),n.hasOwnProperty("fallbackValue"))return n.fallbackValue;d.warn(`No translation nor fallback found for '${t}' .`)}return e.parse(c,l,i,t)},v=(...r)=>r.length?r.filter(a=>!!a).map(a=>{let e=`${a}`.toLowerCase();try{let[t]=Intl.Collator.supportedLocalesOf(a);if(!t)throw new Error;e=t}catch{d.warn(`'${a}' locale is non-standard.`)}return e}):[],A=(r,a,e)=>{if(a&&Array.isArray(r))return r.map(t=>A(t,a));if(r&&typeof r=="object"){let t=Object.keys(r).reduce((l,o)=>{let i=r[o],s=e?`${e}.${o}`:`${o}`;return i&&typeof i=="object"&&!(a&&Array.isArray(i))?u(u({},l),A(i,a,s)):y(u({},l),{[s]:A(i,a)})},{});return Object.keys(t).length?t:null}return r},De=r=>r.reduce((a,{key:e,data:t,locale:l})=>{if(!t)return a;let[o]=v(l),i=y(u({},a[o]||{}),{[e]:t});return y(u({},a),{[o]:i})},{}),Ee=async r=>{try{let a=await Promise.all(r.map(e=>{var t=e,{loader:l}=t,o=P(t,["loader"]);return new Promise(async i=>{let s;try{s=await l()}catch(n){d.error(`Failed to load translation. Verify your '${o.locale}' > '${o.key}' Loader.`),d.error(n)}i(y(u({loader:l},o),{data:s}))})}));return De(a)}catch(a){d.error(a)}return{}},Ie=r=>a=>{try{if(typeof a=="string")return a===r;if(typeof a=="object")return a.test(r)}catch{d.error("Invalid route config!")}return!1},U=(r,a)=>{let e=!0;try{e=Object.keys(r).filter(t=>r[t]!==void 0).every(t=>r[t]===a[t])}catch{}return e},X=1e3*60*60*24,Ne=class{constructor(a){this.cachedAt=0,this.loadedKeys={},this.currentRoute=_(),this.config=_(),this.isLoading=_(!1),this.promises=new Set,this.loading={subscribe:this.isLoading.subscribe,toPromise:(e,t)=>{let{fallbackLocale:l}=f(this.config),o=Array.from(this.promises).filter(i=>{let s=U({locale:v(e)[0],route:t},i);return l&&(s=s||U({locale:v(l)[0],route:t},i)),s}).map(({promise:i})=>i);return Promise.all(o)},get:()=>f(this.isLoading)},this.privateRawTranslations=_({}),this.rawTranslations={subscribe:this.privateRawTranslations.subscribe,get:()=>f(this.rawTranslations)},this.privateTranslations=_({}),this.translations={subscribe:this.privateTranslations.subscribe,get:()=>f(this.translations)},this.locales=y(u({},j([this.config,this.privateTranslations],([e,t])=>{if(!e)return[];let{loaders:l=[]}=e,o=l.map(({locale:s})=>s),i=Object.keys(t).map(s=>s);return Array.from(new Set([...v(...o),...v(...i)]))},[])),{get:()=>f(this.locales)}),this.internalLocale=_(),this.loaderTrigger=j([this.internalLocale,this.currentRoute],([e,t],l)=>{var o,i;e!==void 0&&t!==void 0&&!(e===((o=f(this.loaderTrigger))==null?void 0:o[0])&&t===((i=f(this.loaderTrigger))==null?void 0:i[1]))&&(d.debug("Triggering translation load..."),l([e,t]))},[]),this.localeHelper=_(),this.locale={subscribe:this.localeHelper.subscribe,forceSet:this.localeHelper.set,set:this.internalLocale.set,update:this.internalLocale.update,get:()=>f(this.locale)},this.initialized=j([this.locale,this.currentRoute,this.privateTranslations],([e,t,l],o)=>{f(this.initialized)||o(e!==void 0&&t!==void 0&&!!Object.keys(l).length)}),this.translation=j([this.privateTranslations,this.locale,this.isLoading],([e,t,l],o)=>{let i=e[t];i&&Object.keys(i).length&&!l&&o(i)},{}),this.t=y(u({},j([this.config,this.translation],e=>{var[t]=e,l=t,{parser:o,fallbackLocale:i}=l,s=P(l,["parser","fallbackLocale"]);return(n,...c)=>Q(u({parser:o,key:n,params:c,translations:this.translations.get(),locale:this.locale.get(),fallbackLocale:i},s.hasOwnProperty("fallbackValue")?{fallbackValue:s.fallbackValue}:{}))})),{get:(e,...t)=>f(this.t)(e,...t)}),this.l=y(u({},j([this.config,this.translations],e=>{var[t,...l]=e,o=t,{parser:i,fallbackLocale:s}=o,n=P(o,["parser","fallbackLocale"]),[c]=l;return(p,h,...b)=>Q(u({parser:i,key:h,params:b,translations:c,locale:p,fallbackLocale:s},n.hasOwnProperty("fallbackValue")?{fallbackValue:n.fallbackValue}:{}))})),{get:(e,t,...l)=>f(this.l)(e,t,...l)}),this.getLocale=e=>{let{fallbackLocale:t}=f(this.config)||{},l=e||t;if(!l)return;let o=this.locales.get();return o.find(i=>v(l).includes(i))||o.find(i=>v(t).includes(i))},this.setLocale=e=>{if(e&&e!==f(this.internalLocale))return d.debug(`Setting '${e}' locale.`),this.internalLocale.set(e),this.loading.toPromise(e,f(this.currentRoute))},this.setRoute=e=>{if(e!==f(this.currentRoute)){d.debug(`Setting '${e}' route.`),this.currentRoute.set(e);let t=f(this.internalLocale);return this.loading.toPromise(t,e)}},this.loadConfig=async e=>{await this.configLoader(e)},this.getTranslationProps=async(e=this.locale.get(),t=f(this.currentRoute))=>{let l=f(this.config);if(!l||!e)return[];let o=this.translations.get(),{loaders:i,fallbackLocale:s="",cache:n=X}=l||{},c=Number.isNaN(+n)?X:+n;this.cachedAt?Date.now()>c+this.cachedAt&&(d.debug("Refreshing cache."),this.loadedKeys={},this.cachedAt=0):(d.debug("Setting cache timestamp."),this.cachedAt=Date.now());let[p,h]=v(e,s),b=o[p],T=o[h],w=(i||[]).map(m=>{var k=m,{locale:V}=k,g=P(k,["locale"]);return y(u({},g),{locale:v(V)[0]})}).filter(({routes:m})=>!m||(m||[]).some(Ie(t))).filter(({key:m,locale:k})=>k===p&&(!b||!(this.loadedKeys[p]||[]).includes(m))||s&&k===h&&(!T||!(this.loadedKeys[h]||[]).includes(m)));if(w.length){this.isLoading.set(!0),d.debug("Fetching translations...");let m=await Ee(w);this.isLoading.set(!1);let k=Object.keys(m).reduce((g,O)=>y(u({},g),{[O]:Object.keys(m[O])}),{}),V=w.filter(({key:g,locale:O})=>(k[O]||[]).some(x=>`${x}`.startsWith(g))).reduce((g,{key:O,locale:x})=>y(u({},g),{[x]:[...g[x]||[],O]}),{});return[m,V]}return[]},this.addTranslations=(e,t)=>{if(!e)return;let l=f(this.config),{preprocess:o}=l||{};d.debug("Adding translations...");let i=Object.keys(e||{});this.privateRawTranslations.update(s=>i.reduce((n,c)=>y(u({},n),{[c]:u(u({},n[c]||{}),e[c])}),s)),this.privateTranslations.update(s=>i.reduce((n,c)=>{let p=!0,h=e[c];return typeof o=="function"&&(h=o(h)),(typeof o=="function"||o==="none")&&(p=!1),y(u({},n),{[c]:u(u({},n[c]||{}),p?A(h,o==="preserveArrays"):h)})},s)),i.forEach(s=>{let n=Object.keys(e[s]).map(c=>`${c}`.split(".")[0]);t&&(n=t[s]),this.loadedKeys[s]=Array.from(new Set([...this.loadedKeys[s]||[],...n||[]]))})},this.loader=async([e,t])=>{let l=this.getLocale(e)||void 0;d.debug(`Adding loader promise for '${l}' locale and '${t}' route.`);let o=(async()=>{let i=await this.getTranslationProps(l,t);i.length&&this.addTranslations(...i)})();this.promises.add({locale:l,route:t,promise:o}),o.then(()=>{l&&this.locale.get()!==l&&this.locale.forceSet(l)})},this.loadTranslations=(e,t=f(this.currentRoute)||"")=>{let l=this.getLocale(e);if(l)return this.setRoute(t),this.setLocale(l),this.loading.toPromise(l,t)},this.loaderTrigger.subscribe(this.loader),this.isLoading.subscribe(async e=>{e&&this.promises.size&&(await this.loading.toPromise(),this.promises.clear(),d.debug("Loader promises have been purged."))}),a&&this.loadConfig(a)}async configLoader(a){if(!a)return d.error("No config provided!");let e=a,{initLocale:t,fallbackLocale:l,translations:o,log:i}=e,s=P(e,["initLocale","fallbackLocale","translations","log"]);i&&Se(re(i)),[t]=v(t),[l]=v(l),d.debug("Setting config."),this.config.set(u({initLocale:t,fallbackLocale:l,translations:o},s)),o&&this.addTranslations(o),t&&await this.loadTranslations(t)}},le=Object.defineProperty,Ce=Object.defineProperties,Fe=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,oe=Object.prototype.hasOwnProperty,ie=Object.prototype.propertyIsEnumerable,Y=(r,a,e)=>a in r?le(r,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[a]=e,$=(r,a)=>{for(var e in a||(a={}))oe.call(a,e)&&Y(r,e,a[e]);if(D)for(var e of D(a))ie.call(a,e)&&Y(r,e,a[e]);return r},M=(r,a)=>Ce(r,Fe(a)),L=(r,a)=>{var e={};for(var t in r)oe.call(r,t)&&a.indexOf(t)<0&&(e[t]=r[t]);if(r!=null&&D)for(var t of D(r))a.indexOf(t)<0&&ie.call(r,t)&&(e[t]=r[t]);return e},Me=(r,a)=>{for(var e in a)le(r,e,{get:a[e],enumerable:!0})},se={};Me(se,{ago:()=>Je,currency:()=>Qe,date:()=>We,eq:()=>K,gt:()=>ce,gte:()=>He,lt:()=>ne,lte:()=>ze,ne:()=>Ke,number:()=>qe});var I=(r,a)=>{let{modifierDefaults:e}=a||{},{[r]:t}=e||{};return t||{}},K=({value:r,options:a=[],defaultValue:e=""})=>(a.find(({key:t})=>`${t}`.toLowerCase()===`${r}`.toLowerCase())||{}).value||e,Ke=({value:r,options:a=[],defaultValue:e=""})=>(a.find(({key:t})=>`${t}`.toLowerCase()!==`${r}`.toLowerCase())||{}).value||e,ne=({value:r,options:a=[],defaultValue:e=""})=>(a.sort((t,l)=>+t.key-+l.key).find(({key:t})=>+r<+t)||{}).value||e,ce=({value:r,options:a=[],defaultValue:e=""})=>(a.sort((t,l)=>+l.key-+t.key).find(({key:t})=>+r>+t)||{}).value||e,ze=({value:r,options:a=[],defaultValue:e=""})=>K({value:r,options:a,defaultValue:ne({value:r,options:a,defaultValue:e})}),He=({value:r,options:a=[],defaultValue:e=""})=>K({value:r,options:a,defaultValue:ce({value:r,options:a,defaultValue:e})}),qe=({value:r,props:a,defaultValue:e="",locale:t="",parserOptions:l})=>{if(!t)return"";let o=I("number",l),{maximumFractionDigits:i}=o,s=L(o,["maximumFractionDigits"]),n=(a==null?void 0:a.number)||{},{maximumFractionDigits:c=i||2}=n,p=L(n,["maximumFractionDigits"]);return new Intl.NumberFormat(t,$(M($({},s),{maximumFractionDigits:c}),p)).format(+r||+e)},We=({value:r,props:a,defaultValue:e="",locale:t="",parserOptions:l})=>{if(!t)return"";let o=L(I("date",l),[]),i=L((a==null?void 0:a.date)||{},[]);return new Intl.DateTimeFormat(t,$($({},o),i)).format(+r||+e)},C=[{key:"second",multiplier:1e3},{key:"minute",multiplier:60},{key:"hour",multiplier:60},{key:"day",multiplier:24},{key:"week",multiplier:7},{key:"month",multiplier:13/3},{key:"year",multiplier:12}],ue=(r="",a="")=>new RegExp(`^${r}s?$`).test(a),Be=r=>C.indexOf(C.find(({key:a})=>ue(a,r))),Ge=(r,a)=>C.reduce(([e,t],{key:l,multiplier:o},i)=>{if(ue(t,a))return[e,t];if(!t||i===Be(t)+1){let s=Math.round(e/o);if(!t||Math.abs(s)>=1||a!=="auto")return[s,l]}return[e,t]},[r,""]),Je=({value:r,defaultValue:a="",locale:e="",props:t,parserOptions:l})=>{if(!e)return"";let o=I("ago",l),{format:i,numeric:s}=o,n=L(o,["format","numeric"]),c=(t==null?void 0:t.ago)||{},{format:p=i||"auto",numeric:h=s||"auto"}=c,b=L(c,["format","numeric"]),T=+r||+a,w=Ge(T,p);return new Intl.RelativeTimeFormat(e,$(M($({},n),{numeric:h}),b)).format(...w)},Qe=({value:r,defaultValue:a="",locale:e="",props:t,parserOptions:l})=>{if(!e)return"";let o=I("currency",l),{ratio:i,currency:s}=o,n=L(o,["ratio","currency"]),c=(t==null?void 0:t.currency)||{},{ratio:p=i||1,currency:h=s}=c,b=L(c,["ratio","currency"]);return new Intl.NumberFormat(e,$(M($({},n),{style:"currency",currency:h}),b)).format(p*(r||a))},Ue=r=>typeof r=="string"&&/{{(?:(?!{{|}}).)+}}/.test(r),F=r=>typeof r=="string"?r.replace(/\\(?=:|;|{|})/g,""):r,Xe=({value:r,props:a,payload:e,parserOptions:t,locale:l})=>`${r}`.replace(/{{\s*(?:(?!{{|}}).)+\s*}}/g,o=>{let i=F(`${o.match(/(?!{|\s).+?(?!\\[:;]).(?=\s*(?:[:;]|}}$))/)}`),s=e==null?void 0:e[i],[,n=""]=o.match(/.+?(?!\\;).;\s*default\s*:\s*([^\s:;].+?(?:\\[:;]|[^;}])*)(?=\s*(?:;|}}$))/i)||[];n=n||(e==null?void 0:e.default)||"";let[,c=""]=o.match(/{{\s*(?:[^;]|(?:\\;))+\s*(?:(?!\\:).[:])\s*(?!\s)((?:\\;|[^;])+?)(?=\s*(?:[;]|}}$))/i)||[];if(s===void 0&&c!=="ne")return n;let p=!!c,{customModifiers:h}=t||{},b=$($({},se),h||{});c=Object.keys(b).includes(c)?c:"eq";let T=b[c],w=(o.match(/[^\s:;{](?:[^;]|\\[;])+[^:;}]/gi)||[]).reduce((m,k,V)=>{if(V>0){let g=F(`${k.match(/(?:(?:\\:)|[^:])+/)}`.trim()),O=`${k.match(/(?:(?:\\:)|[^:])+$/)}`.trimStart();if(g&&g!=="default"&&O)return[...m,{key:g,value:O}]}return m},[]);return!p&&!w.length?s:T({value:s,options:w,props:a,defaultValue:n,locale:l,parserOptions:t})}),de=({value:r,props:a,payload:e,parserOptions:t,locale:l})=>{if(Ue(r)){let o=Xe({value:r,payload:e,props:a,parserOptions:t,locale:l});return de({value:o,payload:e,props:a,parserOptions:t,locale:l})}else return F(r)},Ye=r=>({parse:(a,[e,t],l,o)=>(e!=null&&e.default&&a===void 0&&(a=e.default),a===void 0&&(a=o),de({value:a,payload:e,props:t,parserOptions:r,locale:l}))}),Ze=Ye,et=Object.defineProperty,tt=Object.defineProperties,at=Object.getOwnPropertyDescriptors,E=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable,Z=(r,a,e)=>a in r?et(r,a,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[a]=e,rt=(r,a)=>{for(var e in a||(a={}))fe.call(a,e)&&Z(r,e,a[e]);if(E)for(var e of E(a))pe.call(a,e)&&Z(r,e,a[e]);return r},lt=(r,a)=>tt(r,at(a)),ot=(r,a)=>{var e={};for(var t in r)fe.call(r,t)&&a.indexOf(t)<0&&(e[t]=r[t]);if(r!=null&&E)for(var t of E(r))a.indexOf(t)<0&&pe.call(r,t)&&(e[t]=r[t]);return e},ee=r=>{var a=r,{parserOptions:e={}}=a,t=ot(a,["parserOptions"]);return lt(rt({},t),{parser:Ze(e)})},it=class extends Ne{constructor(a){super(a&&ee(a)),this.loadConfig=e=>super.configLoader(ee(e))}},st=it;const nt={loaders:[{locale:"en",key:"common",loader:async()=>(await z(()=>import("../chunks/en.0a25ce63.js"),[],import.meta.url)).default},{locale:"si",key:"common",loader:async()=>(await z(()=>import("../chunks/si.966e587e.js"),[],import.meta.url)).default}],fallbackValue:void 0},{t:ct,locale:Ot,locales:wt,loading:Lt,setLocale:ut,setRoute:dt,translations:_t}=new st(nt);j(ct,r=>a=>{const e=r(`common.${a}`);return e||a});const ft=!0,pt=async({url:r})=>{const{pathname:a}=r,e=a.replace(he,""),t=`${e.match(/\w+?(?=\/|$)/)||""}`,l=e.replace(new RegExp(`^/${t}`),"");return await ut(t),await dt(l),{route:l,locale:t}},jt=Object.freeze(Object.defineProperty({__proto__:null,load:pt,prerender:ft},Symbol.toStringTag,{value:"Module"}));function ht(r){let a,e,t,l,o;const i=r[1].default,s=ye(i,r,r[0],null);return{c(){a=H("div"),e=Oe(`hello
	`),s&&s.c(),t=we(),l=H("link"),this.h()},l(n){a=q(n,"DIV",{});var c=Le(a);e=_e(c,`hello
	`),s&&s.l(c),c.forEach(R),t=je(n);const p=Pe("svelte-120lljv",document.head);l=q(p,"LINK",{href:!0,rel:!0}),p.forEach(R),this.h()},h(){W(l,"href","https://fonts.googleapis.com/css2?family=Material+Icons"),W(l,"rel","stylesheet")},m(n,c){B(n,a,c),G(a,e),s&&s.m(a,null),B(n,t,c),G(document.head,l),o=!0},p(n,[c]){s&&s.p&&(!o||c&1)&&ge(s,i,n,n[0],o?be(i,n[0],c,null):ve(n[0]),null)},i(n){o||(Te(s,n),o=!0)},o(n){Ve(s,n),o=!1},d(n){n&&(R(a),R(t)),s&&s.d(n),R(l)}}}function mt(r,a,e){let{$$slots:t={},$$scope:l}=a;return r.$$set=o=>{"$$scope"in o&&e(0,l=o.$$scope)},[l,t]}class Pt extends ke{constructor(a){super(),$e(this,a,mt,ht,me,{})}}export{Pt as component,jt as universal};
