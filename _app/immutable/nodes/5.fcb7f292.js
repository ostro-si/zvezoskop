import{i as Me,p as Fe,d as Pe}from"../chunks/icon-network.3a5a23c3.js";import{r as Te,k as N,D as Z,J as De,v as A,K as X,E as Ne,N as re,o as He}from"../chunks/LocalizedLink.58cb9bce.js";import{s as G,p as Se,f as I,a as P,g as E,h as V,d as m,c as T,j as D,T as qe,i as y,N as L,K as ze,M as J,x as C,l as x,m as ee,W as U,k as R,D as Be,n as te,e as F,V as je,S as we,a3 as Ie,R as Ee}from"../chunks/scheduler.e81bebc8.js";import{S as le,i as ie,f as Ye,b as q,d as z,m as B,g as H,t as g,c as S,a as p,e as j}from"../chunks/index.66277aa9.js";import{b as Oe,P as Ve}from"../chunks/Scrolly.98ff36fb.js";import{l as ne,t as Le}from"../chunks/translations.f01e66ce.js";import"../chunks/paths.1ac416ba.js";import{m as Ce,a as Ae,P as Ge,T as Ke,b as Re}from"../chunks/Timeline.b2942f35.js";function Je(f,e,t){f=+f,e=+e,t=(r=arguments.length)<2?(e=f,f=0,1):r<3?1:+t;for(var l=-1,r=Math.max(0,Math.ceil((e-f)/t))|0,i=new Array(r);++l<r;)i[l]=f+l*t;return i}async function Ue({params:f}){const{id:e}=f,t=Me[e],l=t.map(({person_id:a})=>Te.find(o=>o.id===a)),r=Fe.find(({id:a})=>e===a),i=t[0],s=i.institution_si,n=i.institution_en;return{affiliations:t,associatedPeople:l,partyData:r,title_si:s,title_en:n}}const gt=Object.freeze(Object.defineProperty({__proto__:null,load:Ue},Symbol.toStringTag,{value:"Module"}));function ae(f,e,t){const l=f.slice();return l[16]=e[t],l}function fe(f,e,t){const l=f.slice();return l[19]=e[t],l[21]=t,l}function ce(f,e,t){const l=f.slice();return l[19]=e[t],l}function ue(f,e){let t,l="",r;return{key:f,first:null,c(){t=I("div"),t.innerHTML=l,this.h()},l(i){t=E(i,"DIV",{class:!0,"data-svelte-h":!0}),je(t)!=="svelte-1740ud7"&&(t.innerHTML=l),this.h()},h(){D(t,"class","step svelte-1fi8ud3"),we(()=>e[12].call(t)),U(t,"active",e[19]===e[0]),this.first=t},m(i,s){y(i,t,s),r=Ie(t,e[12].bind(t))},p(i,s){e=i,s&9&&U(t,"active",e[19]===e[0])},d(i){i&&m(t),r()}}}function We(f){let e=[],t=new Map,l,r=N(f[3]);const i=s=>s[19];for(let s=0;s<r.length;s+=1){let n=ce(f,r,s),a=i(n);t.set(a,e[s]=ue(a,n))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();l=F()},l(s){for(let n=0;n<e.length;n+=1)e[n].l(s);l=F()},m(s,n){for(let a=0;a<e.length;a+=1)e[a]&&e[a].m(s,n);y(s,l,n)},p(s,n){n&13&&(r=N(s[3]),e=Z(e,n,i,1,s,r,t,l.parentNode,De,ue,l,ce))},d(s){s&&m(l);for(let n=0;n<e.length;n+=1)e[n].d(s)}}}function _e(f,e){let t,l=e[19]+"",r,i,s,n;function a(){return e[14](e[21])}return{key:f,first:null,c(){t=I("div"),r=x(l),i=P(),this.h()},l(o){t=E(o,"DIV",{class:!0});var c=V(t);r=ee(c,l),i=T(c),c.forEach(m),this.h()},h(){D(t,"class","year svelte-1fi8ud3"),U(t,"selected",+e[19]===e[0]),R(t,"top",`${(e[19]-e[0])*10}vh`),R(t,"opacity",1-Math.abs(e[0]-e[19])*.2),this.first=t},m(o,c){y(o,t,c),L(t,r),L(t,i),s||(n=Be(t,"click",a),s=!0)},p(o,c){e=o,c&8&&l!==(l=e[19]+"")&&te(r,l),c&9&&U(t,"selected",+e[19]===e[0]),c&9&&R(t,"top",`${(e[19]-e[0])*10}vh`),c&9&&R(t,"opacity",1-Math.abs(e[0]-e[19])*.2)},d(o){o&&m(t),s=!1,n()}}}function Qe(f){let e,t=f[5]("None")+"",l;return{c(){e=I("div"),l=x(t),this.h()},l(r){e=E(r,"DIV",{class:!0});var i=V(e);l=ee(i,t),i.forEach(m),this.h()},h(){D(e,"class","placeholder svelte-1fi8ud3")},m(r,i){y(r,e,i),L(e,l)},p(r,i){i&32&&t!==(t=r[5]("None")+"")&&te(l,t)},i:J,o:J,d(r){r&&m(e)}}}function Xe(f){let e=[],t=new Map,l,r,i=N(X(f[4],"person_id"));const s=n=>n[16].person_id;for(let n=0;n<i.length;n+=1){let a=ae(f,i,n),o=s(a);t.set(o,e[n]=me(o,a))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();l=F()},l(n){for(let a=0;a<e.length;a+=1)e[a].l(n);l=F()},m(n,a){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(n,a);y(n,l,a),r=!0},p(n,a){a&144&&(i=N(X(n[4],"person_id")),H(),e=Z(e,a,s,1,n,i,t,l.parentNode,Ne,me,l,ae),S())},i(n){if(!r){for(let a=0;a<i.length;a+=1)p(e[a]);r=!0}},o(n){for(let a=0;a<e.length;a+=1)g(e[a]);r=!1},d(n){n&&m(l);for(let a=0;a<e.length;a+=1)e[a].d(n)}}}function me(f,e){let t,l,r,i;return l=new Ve({props:{clickable:!0,position:e[16].curr_position,subheading:e[7](e[16]),id:e[16].person_id,name:e[16].person_name,image_link:e[16].image_link,size:"medium",coloredText:!0}}),{key:f,first:null,c(){t=I("div"),q(l.$$.fragment),r=P(),this.h()},l(s){t=E(s,"DIV",{class:!0});var n=V(t);z(l.$$.fragment,n),r=T(n),n.forEach(m),this.h()},h(){D(t,"class","person_label svelte-1fi8ud3"),this.first=t},m(s,n){y(s,t,n),B(l,t,null),L(t,r),i=!0},p(s,n){e=s;const a={};n&16&&(a.position=e[16].curr_position),n&16&&(a.subheading=e[7](e[16])),n&16&&(a.id=e[16].person_id),n&16&&(a.name=e[16].person_name),n&16&&(a.image_link=e[16].image_link),l.$set(a)},i(s){i||(p(l.$$.fragment,s),i=!0)},o(s){g(l.$$.fragment,s),i=!1},d(s){s&&m(t),j(l)}}}function pe(f){let e,t,l,r;const i=[Xe,Qe],s=[];function n(a,o){return a[4]?0:1}return t=n(f),l=s[t]=i[t](f),{c(){e=I("div"),l.c(),this.h()},l(a){e=E(a,"DIV",{class:!0});var o=V(e);l.l(o),o.forEach(m),this.h()},h(){D(e,"class","item")},m(a,o){y(a,e,o),s[t].m(e,null),r=!0},p(a,o){let c=t;t=n(a),t===c?s[t].p(a,o):(H(),g(s[c],1,1,()=>{s[c]=null}),S(),l=s[t],l?l.p(a,o):(l=s[t]=i[t](a),l.c()),p(l,1),l.m(e,null))},i(a){r||(p(l),r=!0)},o(a){g(l),r=!1},d(a){a&&m(e),s[t].d()}}}function Ze(f){let e,t,l,r,i,s,n,a,o,c=[],k=new Map,_,h,d=f[0],M;function Y(u){f[13](u)}let K={$$slots:{default:[We]},$$scope:{ctx:f}};f[1]!==void 0&&(K.value=f[1]),t=new Oe({props:K}),Se.push(()=>Ye(t,"value",Y));let O=N(f[3]);const b=u=>u[19];for(let u=0;u<O.length;u+=1){let v=fe(f,O,u),w=b(v);k.set(w,c[u]=_e(w,v))}let $=pe(f);return{c(){e=I("div"),q(t.$$.fragment),r=P(),i=I("img"),n=P(),a=I("div"),o=I("div");for(let u=0;u<c.length;u+=1)c[u].c();_=P(),h=I("div"),$.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var v=V(e);z(t.$$.fragment,v),v.forEach(m),r=T(u),i=E(u,"IMG",{class:!0,src:!0,alt:!0}),n=T(u),a=E(u,"DIV",{class:!0});var w=V(a);o=E(w,"DIV",{class:!0});var oe=V(o);for(let W=0;W<c.length;W+=1)c[W].l(oe);oe.forEach(m),_=T(w),h=E(w,"DIV",{class:!0});var se=V(h);$.l(se),se.forEach(m),w.forEach(m),this.h()},h(){D(e,"class","scroll-tracker svelte-1fi8ud3"),D(i,"class","icon svelte-1fi8ud3"),qe(i.src,s=Pe)||D(i,"src",s),D(i,"alt","down"),D(o,"class","left-scroll svelte-1fi8ud3"),D(h,"class","right-scroll svelte-1fi8ud3"),D(a,"class","container svelte-1fi8ud3")},m(u,v){y(u,e,v),B(t,e,null),y(u,r,v),y(u,i,v),y(u,n,v),y(u,a,v),L(a,o);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(o,null);L(a,_),L(a,h),$.m(h,null),M=!0},p(u,[v]){const w={};v&16777229&&(w.$$scope={dirty:v,ctx:u}),!l&&v&2&&(l=!0,w.value=u[1],ze(()=>l=!1)),t.$set(w),v&73&&(O=N(u[3]),c=Z(c,v,b,1,u,O,k,o,De,_e,null,fe)),v&1&&G(d,d=u[0])?(H(),g($,1,1,J),S(),$=pe(u),$.c(),p($,1),$.m(h,null)):$.p(u,v)},i(u){M||(p(t.$$.fragment,u),p($),M=!0)},o(u){g(t.$$.fragment,u),g($),M=!1},d(u){u&&(m(e),m(r),m(i),m(n),m(a)),j(t);for(let v=0;v<c.length;v+=1)c[v].d();$.d(u)}}}function xe(f,e,t){let l,r,i;C(f,ne,b=>t(15,r=b)),C(f,Le,b=>t(5,i=b));let{items:s}=e,n={},a,o,c,k,_,h=[];const d=b=>{window.scrollTo({top:_*b,behavior:"smooth"})},M=b=>{const $=A(b,"position",r),u=A(b,"institution_department",r);return u!=null&&u.length?`${$}, ${u}`:$};function Y(){_=this.clientHeight,t(2,_)}function K(b){k=b,t(1,k)}const O=b=>d(b);return f.$$set=b=>{"items"in b&&t(8,s=b.items)},f.$$.update=()=>{f.$$.dirty&3840&&(s.forEach(b=>{for(let $=+b.start_year;$<=+b.end_year;$++)$ in n?n[+$].push(b):t(9,n[+$]=[b],n)}),t(10,o=+Ce(Object.keys(n))),t(11,c=+Ae(Object.keys(n))),t(11,c=Math.min(new Date().getFullYear(),c)),t(3,h=Je(o,c))),f.$$.dirty&1026&&t(0,a=o+k),f.$$.dirty&513&&t(4,l=n[a])},[a,k,_,h,l,i,d,M,s,n,o,c,Y,K,O]}class et extends le{constructor(e){super(),ie(this,e,xe,Ze,G,{items:8})}}function he(f,e,t){const l=f.slice();return l[6]=e[t].type,l[7]=e[t].items,l}function de(f,e,t){const l=f.slice();l[11]=e[t].person_id;const r=l[0].find(function(...s){return f[5](l[11],...s)});return l[12]=r,l}function Q(f){const e=f.slice(),t=e[2]!=="si"&&e[7][0].affiliation_type_en?e[7][0].affiliation_type_en:e[3](e[6]);return e[10]=t,e}function ge(f){let e,t,l=f[10]+"",r,i,s,n,a,o=N(f[7]),c=[];for(let _=0;_<o.length;_+=1)c[_]=ke(de(f,o,_));const k=_=>g(c[_],1,1,()=>{c[_]=null});return{c(){e=I("div"),t=I("div"),r=x(l),i=P(),s=I("div");for(let _=0;_<c.length;_+=1)c[_].c();n=P(),this.h()},l(_){e=E(_,"DIV",{class:!0});var h=V(e);t=E(h,"DIV",{class:!0});var d=V(t);r=ee(d,l),d.forEach(m),i=T(h),s=E(h,"DIV",{class:!0});var M=V(s);for(let Y=0;Y<c.length;Y+=1)c[Y].l(M);M.forEach(m),n=T(h),h.forEach(m),this.h()},h(){D(t,"class","left svelte-19yq8gm"),D(s,"class","right svelte-19yq8gm"),D(e,"class","container svelte-19yq8gm")},m(_,h){y(_,e,h),L(e,t),L(t,r),L(e,i),L(e,s);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(s,null);L(e,n),a=!0},p(_,h){if((!a||h&14)&&l!==(l=_[10]+"")&&te(r,l),h&3){o=N(_[7]);let d;for(d=0;d<o.length;d+=1){const M=de(_,o,d);c[d]?(c[d].p(M,h),p(c[d],1)):(c[d]=ke(M),c[d].c(),p(c[d],1),c[d].m(s,null))}for(H(),d=o.length;d<c.length;d+=1)k(d);S()}},i(_){if(!a){for(let h=0;h<o.length;h+=1)p(c[h]);a=!0}},o(_){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)g(c[h]);a=!1},d(_){_&&m(e),Ee(c,_)}}}function ke(f){let e,t;return e=new Ve({props:{id:f[11],image_link:f[12].image_link,imagePlaceholder:re(f[12].person_name),position:f[12].position,size:"small",clickable:!0}}),{c(){q(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,r){B(e,l,r),t=!0},p(l,r){const i={};r&2&&(i.id=l[11]),r&3&&(i.image_link=l[12].image_link),r&3&&(i.imagePlaceholder=re(l[12].person_name)),r&3&&(i.position=l[12].position),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function be(f){let e,t,l=!!f[6]&&ge(Q(f));return{c(){l&&l.c(),e=F()},l(r){l&&l.l(r),e=F()},m(r,i){l&&l.m(r,i),y(r,e,i),t=!0},p(r,i){r[6]?l?(l.p(Q(r),i),i&2&&p(l,1)):(l=ge(Q(r)),l.c(),p(l,1),l.m(e.parentNode,e)):l&&(H(),g(l,1,1,()=>{l=null}),S())},i(r){t||(p(l),t=!0)},o(r){g(l),t=!1},d(r){r&&m(e),l&&l.d(r)}}}function tt(f){let e,t,l,r=N(f[1]),i=[];for(let n=0;n<r.length;n+=1)i[n]=be(he(f,r,n));const s=n=>g(i[n],1,1,()=>{i[n]=null});return{c(){e=I("div"),t=I("div");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=E(n,"DIV",{class:!0});var a=V(e);t=E(a,"DIV",{class:!0});var o=V(t);for(let c=0;c<i.length;c+=1)i[c].l(o);o.forEach(m),a.forEach(m),this.h()},h(){D(t,"class","outer-container svelte-19yq8gm"),D(e,"class","institution-breakdown mobile-hide svelte-19yq8gm")},m(n,a){y(n,e,a),L(e,t);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(t,null);l=!0},p(n,[a]){if(a&15){r=N(n[1]);let o;for(o=0;o<r.length;o+=1){const c=he(n,r,o);i[o]?(i[o].p(c,a),p(i[o],1)):(i[o]=be(c),i[o].c(),p(i[o],1),i[o].m(t,null))}for(H(),o=r.length;o<i.length;o+=1)s(o);S()}},i(n){if(!l){for(let a=0;a<r.length;a+=1)p(i[a]);l=!0}},o(n){i=i.filter(Boolean);for(let a=0;a<i.length;a+=1)g(i[a]);l=!1},d(n){n&&m(e),Ee(i,n)}}}function lt(f,e,t){let l,r,i;C(f,ne,o=>t(2,r=o)),C(f,Le,o=>t(3,i=o));let{affiliations:s}=e,{peopleLookup:n}=e;const a=(o,{id:c})=>c===o;return f.$$set=o=>{"affiliations"in o&&t(4,s=o.affiliations),"peopleLookup"in o&&t(0,n=o.peopleLookup)},f.$$.update=()=>{f.$$.dirty&16&&t(1,l=Object.entries(s).map(([o,c])=>({type:o,items:X(c,"person_id")})).sort((o,c)=>o.items.length>c.items.length?-1:1))},[n,l,r,i,s,a]}class it extends le{constructor(e){super(),ie(this,e,lt,tt,G,{affiliations:4,peopleLookup:0})}}function ve(f){let e,t,l,r;return e=new it({props:{affiliations:f[0].partyData.affiliations,peopleLookup:f[0].associatedPeople}}),l=new Ke({}),{c(){q(e.$$.fragment),t=P(),q(l.$$.fragment)},l(i){z(e.$$.fragment,i),t=T(i),z(l.$$.fragment,i)},m(i,s){B(e,i,s),y(i,t,s),B(l,i,s),r=!0},p(i,s){const n={};s&1&&(n.affiliations=i[0].partyData.affiliations),s&1&&(n.peopleLookup=i[0].associatedPeople),e.$set(n)},i(i){r||(p(e.$$.fragment,i),p(l.$$.fragment,i),r=!0)},o(i){g(e.$$.fragment,i),g(l.$$.fragment,i),r=!1},d(i){i&&m(t),j(e,i),j(l,i)}}}function ye(f){let e,t,l,r;const i=[ot,nt],s=[];function n(a,o){return a[4]==="mobile"?0:1}return e=n(f),t=s[e]=i[e](f),{c(){t.c(),l=F()},l(a){t.l(a),l=F()},m(a,o){s[e].m(a,o),y(a,l,o),r=!0},p(a,o){let c=e;e=n(a),e===c?s[e].p(a,o):(H(),g(s[c],1,1,()=>{s[c]=null}),S(),t=s[e],t?t.p(a,o):(t=s[e]=i[e](a),t.c()),p(t,1),t.m(l.parentNode,l))},i(a){r||(p(t),r=!0)},o(a){g(t),r=!1},d(a){a&&m(l),s[e].d(a)}}}function nt(f){let e,t,l,r;return t=new Re({props:{items:f[0].affiliations,rowGroupingVar:"person_name",getItemLink:rt,getItemLabel:f[5]}}),{c(){e=I("div"),q(t.$$.fragment),this.h()},l(i){e=E(i,"DIV",{});var s=V(e);z(t.$$.fragment,s),s.forEach(m),this.h()},h(){we(()=>f[6].call(e))},m(i,s){y(i,e,s),B(t,e,null),l=Ie(e,f[6].bind(e)),r=!0},p(i,s){const n={};s&1&&(n.items=i[0].affiliations),s&1&&(n.getItemLabel=i[5]),t.$set(n)},i(i){r||(p(t.$$.fragment,i),r=!0)},o(i){g(t.$$.fragment,i),r=!1},d(i){i&&m(e),j(t),l()}}}function ot(f){let e,t;return e=new et({props:{items:f[0].affiliations}}),{c(){q(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,r){B(e,l,r),t=!0},p(l,r){const i={};r&1&&(i.items=l[0].affiliations),e.$set(i)},i(l){t||(p(e.$$.fragment,l),t=!0)},o(l){g(e.$$.fragment,l),t=!1},d(l){j(e,l)}}}function $e(f){var a;let e,t,l,r,i;e=new Ge({props:{title:A((a=f[0].affiliations)==null?void 0:a[0],"institution",f[1]),notes:f[2],background:f[4]==="mobile"||f[0].partyData?"#E6E6EB":"#FFF",border:f[4]==="mobile"||f[0].partyData?"#FFF":"#6E7382",hideLegend:!!f[0].partyData,pageContentHeight:f[3]}});let s=f[0].partyData&&ve(f),n=f[4]&&ye(f);return{c(){q(e.$$.fragment),t=P(),s&&s.c(),l=P(),n&&n.c(),r=F()},l(o){z(e.$$.fragment,o),t=T(o),s&&s.l(o),l=T(o),n&&n.l(o),r=F()},m(o,c){B(e,o,c),y(o,t,c),s&&s.m(o,c),y(o,l,c),n&&n.m(o,c),y(o,r,c),i=!0},p(o,c){var _;const k={};c&3&&(k.title=A((_=o[0].affiliations)==null?void 0:_[0],"institution",o[1])),c&4&&(k.notes=o[2]),c&17&&(k.background=o[4]==="mobile"||o[0].partyData?"#E6E6EB":"#FFF"),c&17&&(k.border=o[4]==="mobile"||o[0].partyData?"#FFF":"#6E7382"),c&1&&(k.hideLegend=!!o[0].partyData),c&8&&(k.pageContentHeight=o[3]),e.$set(k),o[0].partyData?s?(s.p(o,c),c&1&&p(s,1)):(s=ve(o),s.c(),p(s,1),s.m(l.parentNode,l)):s&&(H(),g(s,1,1,()=>{s=null}),S()),o[4]?n?(n.p(o,c),c&16&&p(n,1)):(n=ye(o),n.c(),p(n,1),n.m(r.parentNode,r)):n&&(H(),g(n,1,1,()=>{n=null}),S())},i(o){i||(p(e.$$.fragment,o),p(s),p(n),i=!0)},o(o){g(e.$$.fragment,o),g(s),g(n),i=!1},d(o){o&&(m(t),m(l),m(r)),j(e,o),s&&s.d(o),n&&n.d(o)}}}function st(f){let e=f[0].route,t,l,r=$e(f);return{c(){r.c(),t=F()},l(i){r.l(i),t=F()},m(i,s){r.m(i,s),y(i,t,s),l=!0},p(i,[s]){s&1&&G(e,e=i[0].route)?(H(),g(r,1,1,J),S(),r=$e(i),r.c(),p(r,1),r.m(t.parentNode,t)):r.p(i,s)},i(i){l||(p(r),l=!0)},o(i){g(r),l=!1},d(i){i&&m(t),r.d(i)}}}const rt=({person_id:f})=>`/people/${f}`;function at(f,e,t){let l,r;C(f,ne,c=>t(1,l=c)),C(f,He,c=>t(4,r=c));let{data:i}=e,s,n;const a=({person_id:c})=>i.associatedPeople.find(({id:_})=>_===c);function o(){n=this.clientHeight,t(3,n)}return f.$$set=c=>{"data"in c&&t(0,i=c.data)},f.$$.update=()=>{if(f.$$.dirty&3){const c=i.affiliations.map(k=>A(k,"notes_institution",l)).filter(k=>(k==null?void 0:k.length)>0);t(2,s=[...new Set(c)])}},[i,l,s,n,r,a,o]}class kt extends le{constructor(e){super(),ie(this,e,at,st,G,{data:0})}}export{kt as component,gt as universal};
