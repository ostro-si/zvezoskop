import{i as De,p as Ve,d as Fe}from"../chunks/icon-network.c36ebbd3.js";import{n as Me,k as P,x as Z,E as we,t as A,F as X,y as Le,G as re,m as Pe}from"../chunks/LocalizedLink.534bba57.js";import{s as C,p as Te,f as E,a as S,g as D,h as F,d as p,c as B,j as y,T as Ne,i as $,N as V,K as Se,M as U,x as G,l as x,m as ee,W,k as K,D as Be,n as te,e as L,V as je,S as ze,a2 as Ye,R as Ie}from"../chunks/scheduler.591f1e93.js";import{S as le,i as ie,f as He,b as z,d as Y,m as H,g as T,t as g,c as N,a as m,e as O}from"../chunks/index.87925673.js";import{b as Oe,P as Ee}from"../chunks/Scrolly.e687a8ec.js";import{l as ne,t as qe}from"../chunks/translations.bb571a4b.js";import"../chunks/paths.593c13ca.js";import{m as Ae,a as Ge,P as Ce,T as Re}from"../chunks/Timeline.f6cb9413.js";function Ke(f,e,l){f=+f,e=+e,l=(o=arguments.length)<2?(e=f,f=0,1):o<3?1:+l;for(var t=-1,o=Math.max(0,Math.ceil((e-f)/l))|0,n=new Array(o);++t<o;)n[t]=f+t*l;return n}async function Ue({params:f}){const{id:e}=f,l=De[e],t=l.map(({person_id:i})=>Me.find(r=>r.id===i)),o=Ve.find(({id:i})=>e===i),n=l[0],a=n.institution_si,s=n.institution_en;return{affiliations:l,associatedPeople:t,partyData:o,title_si:a,title_en:s}}const dt=Object.freeze(Object.defineProperty({__proto__:null,load:Ue},Symbol.toStringTag,{value:"Module"}));function ae(f,e,l){const t=f.slice();return t[16]=e[l],t}function fe(f,e,l){const t=f.slice();return t[19]=e[l],t[21]=l,t}function ce(f,e,l){const t=f.slice();return t[19]=e[l],t}function ue(f,e){let l,t="",o;return{key:f,first:null,c(){l=E("div"),l.innerHTML=t,this.h()},l(n){l=D(n,"DIV",{class:!0,"data-svelte-h":!0}),je(l)!=="svelte-1740ud7"&&(l.innerHTML=t),this.h()},h(){y(l,"class","step svelte-1fi8ud3"),ze(()=>e[12].call(l)),W(l,"active",e[19]===e[0]),this.first=l},m(n,a){$(n,l,a),o=Ye(l,e[12].bind(l))},p(n,a){e=n,a&9&&W(l,"active",e[19]===e[0])},d(n){n&&p(l),o()}}}function We(f){let e=[],l=new Map,t,o=P(f[3]);const n=a=>a[19];for(let a=0;a<o.length;a+=1){let s=ce(f,o,a),i=n(s);l.set(i,e[a]=ue(i,s))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();t=L()},l(a){for(let s=0;s<e.length;s+=1)e[s].l(a);t=L()},m(a,s){for(let i=0;i<e.length;i+=1)e[i]&&e[i].m(a,s);$(a,t,s)},p(a,s){s&13&&(o=P(a[3]),e=Z(e,s,n,1,a,o,l,t.parentNode,we,ue,t,ce))},d(a){a&&p(t);for(let s=0;s<e.length;s+=1)e[s].d(a)}}}function _e(f,e){let l,t=e[19]+"",o,n,a,s;function i(){return e[14](e[21])}return{key:f,first:null,c(){l=E("div"),o=x(t),n=S(),this.h()},l(r){l=D(r,"DIV",{class:!0});var c=F(l);o=ee(c,t),n=B(c),c.forEach(p),this.h()},h(){y(l,"class","year svelte-1fi8ud3"),W(l,"selected",+e[19]===e[0]),K(l,"top",`${(e[19]-e[0])*10}vh`),K(l,"opacity",1-Math.abs(e[0]-e[19])*.2),this.first=l},m(r,c){$(r,l,c),V(l,o),V(l,n),a||(s=Be(l,"click",i),a=!0)},p(r,c){e=r,c&8&&t!==(t=e[19]+"")&&te(o,t),c&9&&W(l,"selected",+e[19]===e[0]),c&9&&K(l,"top",`${(e[19]-e[0])*10}vh`),c&9&&K(l,"opacity",1-Math.abs(e[0]-e[19])*.2)},d(r){r&&p(l),a=!1,s()}}}function Je(f){let e,l=f[5]("None")+"",t;return{c(){e=E("div"),t=x(l),this.h()},l(o){e=D(o,"DIV",{class:!0});var n=F(e);t=ee(n,l),n.forEach(p),this.h()},h(){y(e,"class","placeholder svelte-1fi8ud3")},m(o,n){$(o,e,n),V(e,t)},p(o,n){n&32&&l!==(l=o[5]("None")+"")&&te(t,l)},i:U,o:U,d(o){o&&p(e)}}}function Qe(f){let e=[],l=new Map,t,o,n=P(X(f[4],"person_id"));const a=s=>s[16].person_id;for(let s=0;s<n.length;s+=1){let i=ae(f,n,s),r=a(i);l.set(r,e[s]=pe(r,i))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=L()},l(s){for(let i=0;i<e.length;i+=1)e[i].l(s);t=L()},m(s,i){for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(s,i);$(s,t,i),o=!0},p(s,i){i&144&&(n=P(X(s[4],"person_id")),T(),e=Z(e,i,a,1,s,n,l,t.parentNode,Le,pe,t,ae),N())},i(s){if(!o){for(let i=0;i<n.length;i+=1)m(e[i]);o=!0}},o(s){for(let i=0;i<e.length;i+=1)g(e[i]);o=!1},d(s){s&&p(t);for(let i=0;i<e.length;i+=1)e[i].d(s)}}}function pe(f,e){let l,t,o,n;return t=new Ee({props:{clickable:!0,position:e[16].curr_position,subheading:e[7](e[16]),id:e[16].person_id,name:e[16].person_name,image_link:e[16].image_link,size:"medium",coloredText:!0}}),{key:f,first:null,c(){l=E("div"),z(t.$$.fragment),o=S(),this.h()},l(a){l=D(a,"DIV",{class:!0});var s=F(l);Y(t.$$.fragment,s),o=B(s),s.forEach(p),this.h()},h(){y(l,"class","person_label svelte-1fi8ud3"),this.first=l},m(a,s){$(a,l,s),H(t,l,null),V(l,o),n=!0},p(a,s){e=a;const i={};s&16&&(i.position=e[16].curr_position),s&16&&(i.subheading=e[7](e[16])),s&16&&(i.id=e[16].person_id),s&16&&(i.name=e[16].person_name),s&16&&(i.image_link=e[16].image_link),t.$set(i)},i(a){n||(m(t.$$.fragment,a),n=!0)},o(a){g(t.$$.fragment,a),n=!1},d(a){a&&p(l),O(t)}}}function me(f){let e,l,t,o;const n=[Qe,Je],a=[];function s(i,r){return i[4]?0:1}return l=s(f),t=a[l]=n[l](f),{c(){e=E("div"),t.c(),this.h()},l(i){e=D(i,"DIV",{class:!0});var r=F(e);t.l(r),r.forEach(p),this.h()},h(){y(e,"class","item")},m(i,r){$(i,e,r),a[l].m(e,null),o=!0},p(i,r){let c=l;l=s(i),l===c?a[l].p(i,r):(T(),g(a[c],1,1,()=>{a[c]=null}),N(),t=a[l],t?t.p(i,r):(t=a[l]=n[l](i),t.c()),m(t,1),t.m(e,null))},i(i){o||(m(t),o=!0)},o(i){g(t),o=!1},d(i){i&&p(e),a[l].d()}}}function Xe(f){let e,l,t,o,n,a,s,i,r,c=[],I=new Map,_,h,d=f[0],M;function j(u){f[13](u)}let R={$$slots:{default:[We]},$$scope:{ctx:f}};f[1]!==void 0&&(R.value=f[1]),l=new Oe({props:R}),Te.push(()=>He(l,"value",j));let q=P(f[3]);const k=u=>u[19];for(let u=0;u<q.length;u+=1){let b=fe(f,q,u),w=k(b);I.set(w,c[u]=_e(w,b))}let v=me(f);return{c(){e=E("div"),z(l.$$.fragment),o=S(),n=E("img"),s=S(),i=E("div"),r=E("div");for(let u=0;u<c.length;u+=1)c[u].c();_=S(),h=E("div"),v.c(),this.h()},l(u){e=D(u,"DIV",{class:!0});var b=F(e);Y(l.$$.fragment,b),b.forEach(p),o=B(u),n=D(u,"IMG",{class:!0,src:!0,alt:!0}),s=B(u),i=D(u,"DIV",{class:!0});var w=F(i);r=D(w,"DIV",{class:!0});var oe=F(r);for(let J=0;J<c.length;J+=1)c[J].l(oe);oe.forEach(p),_=B(w),h=D(w,"DIV",{class:!0});var se=F(h);v.l(se),se.forEach(p),w.forEach(p),this.h()},h(){y(e,"class","scroll-tracker svelte-1fi8ud3"),y(n,"class","icon svelte-1fi8ud3"),Ne(n.src,a=Fe)||y(n,"src",a),y(n,"alt","down"),y(r,"class","left-scroll svelte-1fi8ud3"),y(h,"class","right-scroll svelte-1fi8ud3"),y(i,"class","container svelte-1fi8ud3")},m(u,b){$(u,e,b),H(l,e,null),$(u,o,b),$(u,n,b),$(u,s,b),$(u,i,b),V(i,r);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(r,null);V(i,_),V(i,h),v.m(h,null),M=!0},p(u,[b]){const w={};b&16777229&&(w.$$scope={dirty:b,ctx:u}),!t&&b&2&&(t=!0,w.value=u[1],Se(()=>t=!1)),l.$set(w),b&73&&(q=P(u[3]),c=Z(c,b,k,1,u,q,I,r,we,_e,null,fe)),b&1&&C(d,d=u[0])?(T(),g(v,1,1,U),N(),v=me(u),v.c(),m(v,1),v.m(h,null)):v.p(u,b)},i(u){M||(m(l.$$.fragment,u),m(v),M=!0)},o(u){g(l.$$.fragment,u),g(v),M=!1},d(u){u&&(p(e),p(o),p(n),p(s),p(i)),O(l);for(let b=0;b<c.length;b+=1)c[b].d();v.d(u)}}}function Ze(f,e,l){let t,o,n;G(f,ne,k=>l(15,o=k)),G(f,qe,k=>l(5,n=k));let{items:a}=e,s={},i,r,c,I,_,h=[];const d=k=>{window.scrollTo({top:_*k,behavior:"smooth"})},M=k=>{const v=A(k,"position",o),u=A(k,"institution_department",o);return u!=null&&u.length?`${v}, ${u}`:v};function j(){_=this.clientHeight,l(2,_)}function R(k){I=k,l(1,I)}const q=k=>d(k);return f.$$set=k=>{"items"in k&&l(8,a=k.items)},f.$$.update=()=>{f.$$.dirty&3840&&(a.forEach(k=>{for(let v=+k.start_year;v<=+k.end_year;v++)v in s?s[+v].push(k):l(9,s[+v]=[k],s)}),l(10,r=+Ae(Object.keys(s))),l(11,c=+Ge(Object.keys(s))),l(11,c=Math.min(new Date().getFullYear(),c)),l(3,h=Ke(r,c))),f.$$.dirty&1026&&l(0,i=r+I),f.$$.dirty&513&&l(4,t=s[i])},[i,I,_,h,t,n,d,M,a,s,r,c,j,R,q]}class xe extends le{constructor(e){super(),ie(this,e,Ze,Xe,C,{items:8})}}function he(f,e,l){const t=f.slice();return t[5]=e[l].type,t[6]=e[l].items,t}function de(f,e,l){const t=f.slice();t[10]=e[l].person_id;const o=t[0].find(function(...a){return f[4](t[10],...a)});return t[11]=o,t}function Q(f){const e=f.slice(),l=e[2]!=="si"&&e[6][0].affiliation_type_en?e[6][0].affiliation_type_en:e[5];return e[9]=l,e}function ge(f){let e,l,t=f[9]+"",o,n,a,s,i,r=P(f[6]),c=[];for(let _=0;_<r.length;_+=1)c[_]=ke(de(f,r,_));const I=_=>g(c[_],1,1,()=>{c[_]=null});return{c(){e=E("div"),l=E("div"),o=x(t),n=S(),a=E("div");for(let _=0;_<c.length;_+=1)c[_].c();s=S(),this.h()},l(_){e=D(_,"DIV",{class:!0});var h=F(e);l=D(h,"DIV",{class:!0});var d=F(l);o=ee(d,t),d.forEach(p),n=B(h),a=D(h,"DIV",{class:!0});var M=F(a);for(let j=0;j<c.length;j+=1)c[j].l(M);M.forEach(p),s=B(h),h.forEach(p),this.h()},h(){y(l,"class","left svelte-3pakal"),y(a,"class","right svelte-3pakal"),y(e,"class","container svelte-3pakal")},m(_,h){$(_,e,h),V(e,l),V(l,o),V(e,n),V(e,a);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(a,null);V(e,s),i=!0},p(_,h){if((!i||h&6)&&t!==(t=_[9]+"")&&te(o,t),h&3){r=P(_[6]);let d;for(d=0;d<r.length;d+=1){const M=de(_,r,d);c[d]?(c[d].p(M,h),m(c[d],1)):(c[d]=ke(M),c[d].c(),m(c[d],1),c[d].m(a,null))}for(T(),d=r.length;d<c.length;d+=1)I(d);N()}},i(_){if(!i){for(let h=0;h<r.length;h+=1)m(c[h]);i=!0}},o(_){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)g(c[h]);i=!1},d(_){_&&p(e),Ie(c,_)}}}function ke(f){let e,l;return e=new Ee({props:{id:f[10],image_link:f[11].image_link,imagePlaceholder:re(f[11].person_name),position:f[11].position,size:"small",clickable:!0}}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,o){H(e,t,o),l=!0},p(t,o){const n={};o&2&&(n.id=t[10]),o&3&&(n.image_link=t[11].image_link),o&3&&(n.imagePlaceholder=re(t[11].person_name)),o&3&&(n.position=t[11].position),e.$set(n)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function be(f){let e,l,t=!!f[5]&&ge(Q(f));return{c(){t&&t.c(),e=L()},l(o){t&&t.l(o),e=L()},m(o,n){t&&t.m(o,n),$(o,e,n),l=!0},p(o,n){o[5]?t?(t.p(Q(o),n),n&2&&m(t,1)):(t=ge(Q(o)),t.c(),m(t,1),t.m(e.parentNode,e)):t&&(T(),g(t,1,1,()=>{t=null}),N())},i(o){l||(m(t),l=!0)},o(o){g(t),l=!1},d(o){o&&p(e),t&&t.d(o)}}}function et(f){let e,l,t,o=P(f[1]),n=[];for(let s=0;s<o.length;s+=1)n[s]=be(he(f,o,s));const a=s=>g(n[s],1,1,()=>{n[s]=null});return{c(){e=E("div"),l=E("div");for(let s=0;s<n.length;s+=1)n[s].c();this.h()},l(s){e=D(s,"DIV",{class:!0});var i=F(e);l=D(i,"DIV",{class:!0});var r=F(l);for(let c=0;c<n.length;c+=1)n[c].l(r);r.forEach(p),i.forEach(p),this.h()},h(){y(l,"class","outer-container svelte-3pakal"),y(e,"class","institution-breakdown mobile-hide svelte-3pakal")},m(s,i){$(s,e,i),V(e,l);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(l,null);t=!0},p(s,[i]){if(i&7){o=P(s[1]);let r;for(r=0;r<o.length;r+=1){const c=he(s,o,r);n[r]?(n[r].p(c,i),m(n[r],1)):(n[r]=be(c),n[r].c(),m(n[r],1),n[r].m(l,null))}for(T(),r=o.length;r<n.length;r+=1)a(r);N()}},i(s){if(!t){for(let i=0;i<o.length;i+=1)m(n[i]);t=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)g(n[i]);t=!1},d(s){s&&p(e),Ie(n,s)}}}function tt(f,e,l){let t,o;G(f,ne,i=>l(2,o=i));let{affiliations:n}=e,{peopleLookup:a}=e;console.log(n);const s=(i,{id:r})=>r===i;return f.$$set=i=>{"affiliations"in i&&l(3,n=i.affiliations),"peopleLookup"in i&&l(0,a=i.peopleLookup)},f.$$.update=()=>{f.$$.dirty&8&&l(1,t=Object.entries(n).map(([i,r])=>({type:i,items:X(r,"person_id")})).sort((i,r)=>i.items.length>r.items.length?-1:1))},[a,t,o,n,s]}class lt extends le{constructor(e){super(),ie(this,e,tt,et,C,{affiliations:3,peopleLookup:0})}}function ve(f){let e,l;return e=new lt({props:{affiliations:f[0].partyData.affiliations,peopleLookup:f[0].associatedPeople}}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,o){H(e,t,o),l=!0},p(t,o){const n={};o&1&&(n.affiliations=t[0].partyData.affiliations),o&1&&(n.peopleLookup=t[0].associatedPeople),e.$set(n)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function $e(f){let e,l,t,o;const n=[nt,it],a=[];function s(i,r){return i[3]==="mobile"?0:1}return e=s(f),l=a[e]=n[e](f),{c(){l.c(),t=L()},l(i){l.l(i),t=L()},m(i,r){a[e].m(i,r),$(i,t,r),o=!0},p(i,r){let c=e;e=s(i),e===c?a[e].p(i,r):(T(),g(a[c],1,1,()=>{a[c]=null}),N(),l=a[e],l?l.p(i,r):(l=a[e]=n[e](i),l.c()),m(l,1),l.m(t.parentNode,t))},i(i){o||(m(l),o=!0)},o(i){g(l),o=!1},d(i){i&&p(t),a[e].d(i)}}}function it(f){let e,l;return e=new Re({props:{items:f[0].affiliations,rowGroupingVar:"person_name",getItemLink:st,getItemLabel:f[4]}}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,o){H(e,t,o),l=!0},p(t,o){const n={};o&1&&(n.items=t[0].affiliations),o&1&&(n.getItemLabel=t[4]),e.$set(n)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function nt(f){let e,l;return e=new xe({props:{items:f[0].affiliations}}),{c(){z(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,o){H(e,t,o),l=!0},p(t,o){const n={};o&1&&(n.items=t[0].affiliations),e.$set(n)},i(t){l||(m(e.$$.fragment,t),l=!0)},o(t){g(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ye(f){var i;let e,l,t,o,n;e=new Ce({props:{title:A((i=f[0].affiliations)==null?void 0:i[0],"institution",f[1]),notes:f[2],background:f[3]==="mobile"?"#E6E6EB":"#FFF",border:f[3]==="mobile"?"#FFF":"#6E7382"}});let a=f[0].partyData&&ve(f),s=f[3]&&$e(f);return{c(){z(e.$$.fragment),l=S(),a&&a.c(),t=S(),s&&s.c(),o=L()},l(r){Y(e.$$.fragment,r),l=B(r),a&&a.l(r),t=B(r),s&&s.l(r),o=L()},m(r,c){H(e,r,c),$(r,l,c),a&&a.m(r,c),$(r,t,c),s&&s.m(r,c),$(r,o,c),n=!0},p(r,c){var _;const I={};c&3&&(I.title=A((_=r[0].affiliations)==null?void 0:_[0],"institution",r[1])),c&4&&(I.notes=r[2]),c&8&&(I.background=r[3]==="mobile"?"#E6E6EB":"#FFF"),c&8&&(I.border=r[3]==="mobile"?"#FFF":"#6E7382"),e.$set(I),r[0].partyData?a?(a.p(r,c),c&1&&m(a,1)):(a=ve(r),a.c(),m(a,1),a.m(t.parentNode,t)):a&&(T(),g(a,1,1,()=>{a=null}),N()),r[3]?s?(s.p(r,c),c&8&&m(s,1)):(s=$e(r),s.c(),m(s,1),s.m(o.parentNode,o)):s&&(T(),g(s,1,1,()=>{s=null}),N())},i(r){n||(m(e.$$.fragment,r),m(a),m(s),n=!0)},o(r){g(e.$$.fragment,r),g(a),g(s),n=!1},d(r){r&&(p(l),p(t),p(o)),O(e,r),a&&a.d(r),s&&s.d(r)}}}function ot(f){let e=f[0].route,l,t,o=ye(f);return{c(){o.c(),l=L()},l(n){o.l(n),l=L()},m(n,a){o.m(n,a),$(n,l,a),t=!0},p(n,[a]){a&1&&C(e,e=n[0].route)?(T(),g(o,1,1,U),N(),o=ye(n),o.c(),m(o,1),o.m(l.parentNode,l)):o.p(n,a)},i(n){t||(m(o),t=!0)},o(n){g(o),t=!1},d(n){n&&p(l),o.d(n)}}}const st=({person_id:f})=>`/people/${f}`;function rt(f,e,l){let t,o;G(f,ne,i=>l(1,t=i)),G(f,Pe,i=>l(3,o=i));let{data:n}=e,a;const s=({person_id:i})=>n.associatedPeople.find(({id:c})=>c===i);return f.$$set=i=>{"data"in i&&l(0,n=i.data)},f.$$.update=()=>{if(f.$$.dirty&3){const i=n.affiliations.map(r=>A(r,"notes_institution",t)).filter(r=>(r==null?void 0:r.length)>0);l(2,a=[...new Set(i)])}},[n,t,a,o,s]}class gt extends le{constructor(e){super(),ie(this,e,rt,ot,C,{data:0})}}export{gt as component,dt as universal};
