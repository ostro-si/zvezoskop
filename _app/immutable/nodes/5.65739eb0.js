import{i as Me,p as Fe,d as Te}from"../chunks/icon-network.17f98b36.js";import{r as Pe,k as L,D as Q,J as $e,v as C,K as ne,E as Le,N as re,o as Ne}from"../chunks/LocalizedLink.56956f74.js";import{s as G,p as He,f as I,a as T,g as E,h as V,d as m,c as P,j as D,T as Se,i as y,N as M,K as qe,M as J,x as A,l as X,m as Z,W as U,k as R,D as ze,n as x,e as N,V as Be,S as ye,a3 as De,R as we}from"../chunks/scheduler.e81bebc8.js";import{S as ee,i as te,f as je,b as q,d as z,m as B,g as H,t as v,c as S,a as h,e as j}from"../chunks/index.66277aa9.js";import{b as Ye,P as Ie}from"../chunks/Scrolly.01783b4f.js";import{l as Ee,t as Ve}from"../chunks/translations.f3f920b5.js";import"../chunks/paths.d2eb77b4.js";import{m as Oe,a as Ce,P as Ae,T as Ge,b as Ke}from"../chunks/Timeline.f1a3d5e8.js";function Re(a,e,l){a=+a,e=+e,l=(r=arguments.length)<2?(e=a,a=0,1):r<3?1:+l;for(var t=-1,r=Math.max(0,Math.ceil((e-a)/l))|0,i=new Array(r);++t<r;)i[t]=a+t*l;return i}async function Je({params:a}){const{id:e}=a,l=Me[e],t=l.map(({person_id:f})=>Pe.find(s=>s.id===f)),r=Fe.find(({id:f})=>e===f),i=l[0],o=i.institution_si,n=i.institution_en;return{affiliations:l,associatedPeople:t,partyData:r,title_si:o,title_en:n}}const pt=Object.freeze(Object.defineProperty({__proto__:null,load:Je},Symbol.toStringTag,{value:"Module"}));function se(a,e,l){const t=a.slice();return t[16]=e[l],t}function oe(a,e,l){const t=a.slice();return t[19]=e[l],t[21]=l,t}function ae(a,e,l){const t=a.slice();return t[19]=e[l],t}function fe(a,e){let l,t="",r;return{key:a,first:null,c(){l=I("div"),l.innerHTML=t,this.h()},l(i){l=E(i,"DIV",{class:!0,"data-svelte-h":!0}),Be(l)!=="svelte-1740ud7"&&(l.innerHTML=t),this.h()},h(){D(l,"class","step svelte-1fi8ud3"),ye(()=>e[12].call(l)),U(l,"active",e[19]===e[0]),this.first=l},m(i,o){y(i,l,o),r=De(l,e[12].bind(l))},p(i,o){e=i,o&9&&U(l,"active",e[19]===e[0])},d(i){i&&m(l),r()}}}function Ue(a){let e=[],l=new Map,t,r=L(a[3]);const i=o=>o[19];for(let o=0;o<r.length;o+=1){let n=ae(a,r,o),f=i(n);l.set(f,e[o]=fe(f,n))}return{c(){for(let o=0;o<e.length;o+=1)e[o].c();t=N()},l(o){for(let n=0;n<e.length;n+=1)e[n].l(o);t=N()},m(o,n){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(o,n);y(o,t,n)},p(o,n){n&13&&(r=L(o[3]),e=Q(e,n,i,1,o,r,l,t.parentNode,$e,fe,t,ae))},d(o){o&&m(t);for(let n=0;n<e.length;n+=1)e[n].d(o)}}}function ce(a,e){let l,t=e[19]+"",r,i,o,n;function f(){return e[14](e[21])}return{key:a,first:null,c(){l=I("div"),r=X(t),i=T(),this.h()},l(s){l=E(s,"DIV",{class:!0});var c=V(l);r=Z(c,t),i=P(c),c.forEach(m),this.h()},h(){D(l,"class","year svelte-1fi8ud3"),U(l,"selected",+e[19]===e[0]),R(l,"top",`${(e[19]-e[0])*10}vh`),R(l,"opacity",1-Math.abs(e[0]-e[19])*.2),this.first=l},m(s,c){y(s,l,c),M(l,r),M(l,i),o||(n=ze(l,"click",f),o=!0)},p(s,c){e=s,c&8&&t!==(t=e[19]+"")&&x(r,t),c&9&&U(l,"selected",+e[19]===e[0]),c&9&&R(l,"top",`${(e[19]-e[0])*10}vh`),c&9&&R(l,"opacity",1-Math.abs(e[0]-e[19])*.2)},d(s){s&&m(l),o=!1,n()}}}function We(a){let e,l=a[5]("None")+"",t;return{c(){e=I("div"),t=X(l),this.h()},l(r){e=E(r,"DIV",{class:!0});var i=V(e);t=Z(i,l),i.forEach(m),this.h()},h(){D(e,"class","placeholder svelte-1fi8ud3")},m(r,i){y(r,e,i),M(e,t)},p(r,i){i&32&&l!==(l=r[5]("None")+"")&&x(t,l)},i:J,o:J,d(r){r&&m(e)}}}function Qe(a){let e=[],l=new Map,t,r,i=L(ne(a[4],"person_id"));const o=n=>n[16].person_id;for(let n=0;n<i.length;n+=1){let f=se(a,i,n),s=o(f);l.set(s,e[n]=ue(s,f))}return{c(){for(let n=0;n<e.length;n+=1)e[n].c();t=N()},l(n){for(let f=0;f<e.length;f+=1)e[f].l(n);t=N()},m(n,f){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(n,f);y(n,t,f),r=!0},p(n,f){f&144&&(i=L(ne(n[4],"person_id")),H(),e=Q(e,f,o,1,n,i,l,t.parentNode,Le,ue,t,se),S())},i(n){if(!r){for(let f=0;f<i.length;f+=1)h(e[f]);r=!0}},o(n){for(let f=0;f<e.length;f+=1)v(e[f]);r=!1},d(n){n&&m(t);for(let f=0;f<e.length;f+=1)e[f].d(n)}}}function ue(a,e){let l,t,r,i;return t=new Ie({props:{clickable:!0,position:e[16].curr_position,subheading:e[7](e[16]),id:e[16].person_id,name:e[16].person_name,image_link:e[16].image_link,size:"medium",coloredText:!0}}),{key:a,first:null,c(){l=I("div"),q(t.$$.fragment),r=T(),this.h()},l(o){l=E(o,"DIV",{class:!0});var n=V(l);z(t.$$.fragment,n),r=P(n),n.forEach(m),this.h()},h(){D(l,"class","person_label svelte-1fi8ud3"),this.first=l},m(o,n){y(o,l,n),B(t,l,null),M(l,r),i=!0},p(o,n){e=o;const f={};n&16&&(f.position=e[16].curr_position),n&16&&(f.subheading=e[7](e[16])),n&16&&(f.id=e[16].person_id),n&16&&(f.name=e[16].person_name),n&16&&(f.image_link=e[16].image_link),t.$set(f)},i(o){i||(h(t.$$.fragment,o),i=!0)},o(o){v(t.$$.fragment,o),i=!1},d(o){o&&m(l),j(t)}}}function _e(a){let e,l,t,r;const i=[Qe,We],o=[];function n(f,s){return f[4]?0:1}return l=n(a),t=o[l]=i[l](a),{c(){e=I("div"),t.c(),this.h()},l(f){e=E(f,"DIV",{class:!0});var s=V(e);t.l(s),s.forEach(m),this.h()},h(){D(e,"class","item")},m(f,s){y(f,e,s),o[l].m(e,null),r=!0},p(f,s){let c=l;l=n(f),l===c?o[l].p(f,s):(H(),v(o[c],1,1,()=>{o[c]=null}),S(),t=o[l],t?t.p(f,s):(t=o[l]=i[l](f),t.c()),h(t,1),t.m(e,null))},i(f){r||(h(t),r=!0)},o(f){v(t),r=!1},d(f){f&&m(e),o[l].d()}}}function Xe(a){let e,l,t,r,i,o,n,f,s,c=[],g=new Map,_,d,p=a[0],F;function Y(u){a[13](u)}let K={$$slots:{default:[Ue]},$$scope:{ctx:a}};a[1]!==void 0&&(K.value=a[1]),l=new Ye({props:K}),He.push(()=>je(l,"value",Y));let O=L(a[3]);const b=u=>u[19];for(let u=0;u<O.length;u+=1){let k=oe(a,O,u),w=b(k);g.set(w,c[u]=ce(w,k))}let $=_e(a);return{c(){e=I("div"),q(l.$$.fragment),r=T(),i=I("img"),n=T(),f=I("div"),s=I("div");for(let u=0;u<c.length;u+=1)c[u].c();_=T(),d=I("div"),$.c(),this.h()},l(u){e=E(u,"DIV",{class:!0});var k=V(e);z(l.$$.fragment,k),k.forEach(m),r=P(u),i=E(u,"IMG",{class:!0,src:!0,alt:!0}),n=P(u),f=E(u,"DIV",{class:!0});var w=V(f);s=E(w,"DIV",{class:!0});var le=V(s);for(let W=0;W<c.length;W+=1)c[W].l(le);le.forEach(m),_=P(w),d=E(w,"DIV",{class:!0});var ie=V(d);$.l(ie),ie.forEach(m),w.forEach(m),this.h()},h(){D(e,"class","scroll-tracker svelte-1fi8ud3"),D(i,"class","icon svelte-1fi8ud3"),Se(i.src,o=Te)||D(i,"src",o),D(i,"alt","down"),D(s,"class","left-scroll svelte-1fi8ud3"),D(d,"class","right-scroll svelte-1fi8ud3"),D(f,"class","container svelte-1fi8ud3")},m(u,k){y(u,e,k),B(l,e,null),y(u,r,k),y(u,i,k),y(u,n,k),y(u,f,k),M(f,s);for(let w=0;w<c.length;w+=1)c[w]&&c[w].m(s,null);M(f,_),M(f,d),$.m(d,null),F=!0},p(u,[k]){const w={};k&16777229&&(w.$$scope={dirty:k,ctx:u}),!t&&k&2&&(t=!0,w.value=u[1],qe(()=>t=!1)),l.$set(w),k&73&&(O=L(u[3]),c=Q(c,k,b,1,u,O,g,s,$e,ce,null,oe)),k&1&&G(p,p=u[0])?(H(),v($,1,1,J),S(),$=_e(u),$.c(),h($,1),$.m(d,null)):$.p(u,k)},i(u){F||(h(l.$$.fragment,u),h($),F=!0)},o(u){v(l.$$.fragment,u),v($),F=!1},d(u){u&&(m(e),m(r),m(i),m(n),m(f)),j(l);for(let k=0;k<c.length;k+=1)c[k].d();$.d(u)}}}function Ze(a,e,l){let t,r,i;A(a,Ee,b=>l(15,r=b)),A(a,Ve,b=>l(5,i=b));let{items:o}=e,n={},f,s,c,g,_,d=[];const p=b=>{window.scrollTo({top:_*b,behavior:"smooth"})},F=b=>{const $=C(b,"position",r),u=C(b,"institution_department",r);return u!=null&&u.length?`${$}, ${u}`:$};function Y(){_=this.clientHeight,l(2,_)}function K(b){g=b,l(1,g)}const O=b=>p(b);return a.$$set=b=>{"items"in b&&l(8,o=b.items)},a.$$.update=()=>{a.$$.dirty&3840&&(o.forEach(b=>{for(let $=+b.start_year;$<=+b.end_year;$++)$ in n?n[+$].push(b):l(9,n[+$]=[b],n)}),l(10,s=+Oe(Object.keys(n))),l(11,c=+Ce(Object.keys(n))),l(11,c=Math.min(new Date().getFullYear(),c)),l(3,d=Re(s,c))),a.$$.dirty&1026&&l(0,f=s+g),a.$$.dirty&513&&l(4,t=n[f])},[f,g,_,d,t,i,p,F,o,n,s,c,Y,K,O]}class xe extends ee{constructor(e){super(),te(this,e,Ze,Xe,G,{items:8})}}function me(a,e,l){const t=a.slice();return t[3]=e[l].type,t[4]=e[l].items,t}function he(a,e,l){const t=a.slice();return t[7]=e[l].person_id,t[8]=e[l].image_link,t[9]=e[l].person_name,t[10]=e[l].curr_position,t}function de(a){let e,l,t=a[1](a[3])+"",r,i,o,n,f,s=L(a[4]),c=[];for(let _=0;_<s.length;_+=1)c[_]=pe(he(a,s,_));const g=_=>v(c[_],1,1,()=>{c[_]=null});return{c(){e=I("div"),l=I("div"),r=X(t),i=T(),o=I("div");for(let _=0;_<c.length;_+=1)c[_].c();n=T(),this.h()},l(_){e=E(_,"DIV",{class:!0});var d=V(e);l=E(d,"DIV",{class:!0});var p=V(l);r=Z(p,t),p.forEach(m),i=P(d),o=E(d,"DIV",{class:!0});var F=V(o);for(let Y=0;Y<c.length;Y+=1)c[Y].l(F);F.forEach(m),n=P(d),d.forEach(m),this.h()},h(){D(l,"class","left svelte-19yq8gm"),D(o,"class","right svelte-19yq8gm"),D(e,"class","container svelte-19yq8gm")},m(_,d){y(_,e,d),M(e,l),M(l,r),M(e,i),M(e,o);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(o,null);M(e,n),f=!0},p(_,d){if((!f||d&3)&&t!==(t=_[1](_[3])+"")&&x(r,t),d&1){s=L(_[4]);let p;for(p=0;p<s.length;p+=1){const F=he(_,s,p);c[p]?(c[p].p(F,d),h(c[p],1)):(c[p]=pe(F),c[p].c(),h(c[p],1),c[p].m(o,null))}for(H(),p=s.length;p<c.length;p+=1)g(p);S()}},i(_){if(!f){for(let d=0;d<s.length;d+=1)h(c[d]);f=!0}},o(_){c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)v(c[d]);f=!1},d(_){_&&m(e),we(c,_)}}}function pe(a){let e,l;return e=new Ie({props:{id:a[7],image_link:a[8],imagePlaceholder:re(a[9]),position:a[10],size:"small",clickable:!0}}),{c(){q(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,r){const i={};r&1&&(i.id=t[7]),r&1&&(i.image_link=t[8]),r&1&&(i.imagePlaceholder=re(t[9])),r&1&&(i.position=t[10]),e.$set(i)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function ge(a){let e,l,t=!!a[3]&&de(a);return{c(){t&&t.c(),e=N()},l(r){t&&t.l(r),e=N()},m(r,i){t&&t.m(r,i),y(r,e,i),l=!0},p(r,i){r[3]?t?(t.p(r,i),i&1&&h(t,1)):(t=de(r),t.c(),h(t,1),t.m(e.parentNode,e)):t&&(H(),v(t,1,1,()=>{t=null}),S())},i(r){l||(h(t),l=!0)},o(r){v(t),l=!1},d(r){r&&m(e),t&&t.d(r)}}}function et(a){let e,l,t,r=L(a[0]),i=[];for(let n=0;n<r.length;n+=1)i[n]=ge(me(a,r,n));const o=n=>v(i[n],1,1,()=>{i[n]=null});return{c(){e=I("div"),l=I("div");for(let n=0;n<i.length;n+=1)i[n].c();this.h()},l(n){e=E(n,"DIV",{class:!0});var f=V(e);l=E(f,"DIV",{class:!0});var s=V(l);for(let c=0;c<i.length;c+=1)i[c].l(s);s.forEach(m),f.forEach(m),this.h()},h(){D(l,"class","outer-container svelte-19yq8gm"),D(e,"class","institution-breakdown mobile-hide svelte-19yq8gm")},m(n,f){y(n,e,f),M(e,l);for(let s=0;s<i.length;s+=1)i[s]&&i[s].m(l,null);t=!0},p(n,[f]){if(f&3){r=L(n[0]);let s;for(s=0;s<r.length;s+=1){const c=me(n,r,s);i[s]?(i[s].p(c,f),h(i[s],1)):(i[s]=ge(c),i[s].c(),h(i[s],1),i[s].m(l,null))}for(H(),s=r.length;s<i.length;s+=1)o(s);S()}},i(n){if(!t){for(let f=0;f<r.length;f+=1)h(i[f]);t=!0}},o(n){i=i.filter(Boolean);for(let f=0;f<i.length;f+=1)v(i[f]);t=!1},d(n){n&&m(e),we(i,n)}}}function tt(a,e,l){let t,r;A(a,Ve,o=>l(1,r=o));let{affiliations:i}=e;return a.$$set=o=>{"affiliations"in o&&l(2,i=o.affiliations)},a.$$.update=()=>{a.$$.dirty&4&&console.log(i),a.$$.dirty&4&&l(0,t=Object.entries(i).map(([o,n])=>({type:o,items:n})).sort((o,n)=>o.items.length>n.items.length?-1:1))},[t,r,i]}class lt extends ee{constructor(e){super(),te(this,e,tt,et,G,{affiliations:2})}}function ve(a){let e,l,t,r;return e=new lt({props:{affiliations:a[0].partyData.affiliations}}),t=new Ge({}),{c(){q(e.$$.fragment),l=T(),q(t.$$.fragment)},l(i){z(e.$$.fragment,i),l=P(i),z(t.$$.fragment,i)},m(i,o){B(e,i,o),y(i,l,o),B(t,i,o),r=!0},p(i,o){const n={};o&1&&(n.affiliations=i[0].partyData.affiliations),e.$set(n)},i(i){r||(h(e.$$.fragment,i),h(t.$$.fragment,i),r=!0)},o(i){v(e.$$.fragment,i),v(t.$$.fragment,i),r=!1},d(i){i&&m(l),j(e,i),j(t,i)}}}function be(a){let e,l,t,r,i;const o=[nt,it],n=[];function f(s,c){return s[4]==="mobile"?0:1}return l=f(a),t=n[l]=o[l](a),{c(){e=I("div"),t.c(),this.h()},l(s){e=E(s,"DIV",{});var c=V(e);t.l(c),c.forEach(m),this.h()},h(){ye(()=>a[6].call(e))},m(s,c){y(s,e,c),n[l].m(e,null),r=De(e,a[6].bind(e)),i=!0},p(s,c){let g=l;l=f(s),l===g?n[l].p(s,c):(H(),v(n[g],1,1,()=>{n[g]=null}),S(),t=n[l],t?t.p(s,c):(t=n[l]=o[l](s),t.c()),h(t,1),t.m(e,null))},i(s){i||(h(t),i=!0)},o(s){v(t),i=!1},d(s){s&&m(e),n[l].d(),r()}}}function it(a){let e,l;return e=new Ke({props:{items:a[0].affiliations,rowGroupingVar:"person_name",getItemLink:st,getItemLabel:a[5]}}),{c(){q(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,r){const i={};r&1&&(i.items=t[0].affiliations),r&1&&(i.getItemLabel=t[5]),e.$set(i)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function nt(a){let e,l;return e=new xe({props:{items:a[0].affiliations}}),{c(){q(e.$$.fragment)},l(t){z(e.$$.fragment,t)},m(t,r){B(e,t,r),l=!0},p(t,r){const i={};r&1&&(i.items=t[0].affiliations),e.$set(i)},i(t){l||(h(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){j(e,t)}}}function ke(a){var f;let e,l,t,r,i;e=new Ae({props:{title:C((f=a[0].affiliations)==null?void 0:f[0],"institution",a[1]),notes:a[2],background:a[4]==="mobile"||a[0].partyData?"#E6E6EB":"#FFF",border:a[4]==="mobile"||a[0].partyData?"#FFF":"#6E7382",hideLegend:!!a[0].partyData,pageContentHeight:a[3]}});let o=a[0].partyData&&ve(a),n=a[4]&&be(a);return{c(){q(e.$$.fragment),l=T(),o&&o.c(),t=T(),n&&n.c(),r=N()},l(s){z(e.$$.fragment,s),l=P(s),o&&o.l(s),t=P(s),n&&n.l(s),r=N()},m(s,c){B(e,s,c),y(s,l,c),o&&o.m(s,c),y(s,t,c),n&&n.m(s,c),y(s,r,c),i=!0},p(s,c){var _;const g={};c&3&&(g.title=C((_=s[0].affiliations)==null?void 0:_[0],"institution",s[1])),c&4&&(g.notes=s[2]),c&17&&(g.background=s[4]==="mobile"||s[0].partyData?"#E6E6EB":"#FFF"),c&17&&(g.border=s[4]==="mobile"||s[0].partyData?"#FFF":"#6E7382"),c&1&&(g.hideLegend=!!s[0].partyData),c&8&&(g.pageContentHeight=s[3]),e.$set(g),s[0].partyData?o?(o.p(s,c),c&1&&h(o,1)):(o=ve(s),o.c(),h(o,1),o.m(t.parentNode,t)):o&&(H(),v(o,1,1,()=>{o=null}),S()),s[4]?n?(n.p(s,c),c&16&&h(n,1)):(n=be(s),n.c(),h(n,1),n.m(r.parentNode,r)):n&&(H(),v(n,1,1,()=>{n=null}),S())},i(s){i||(h(e.$$.fragment,s),h(o),h(n),i=!0)},o(s){v(e.$$.fragment,s),v(o),v(n),i=!1},d(s){s&&(m(l),m(t),m(r)),j(e,s),o&&o.d(s),n&&n.d(s)}}}function rt(a){let e=a[0].route,l,t,r=ke(a);return{c(){r.c(),l=N()},l(i){r.l(i),l=N()},m(i,o){r.m(i,o),y(i,l,o),t=!0},p(i,[o]){o&1&&G(e,e=i[0].route)?(H(),v(r,1,1,J),S(),r=ke(i),r.c(),h(r,1),r.m(l.parentNode,l)):r.p(i,o)},i(i){t||(h(r),t=!0)},o(i){v(r),t=!1},d(i){i&&m(l),r.d(i)}}}const st=({person_id:a})=>`/people/${a}`;function ot(a,e,l){let t,r;A(a,Ee,c=>l(1,t=c)),A(a,Ne,c=>l(4,r=c));let{data:i}=e,o,n;const f=({person_id:c})=>i.associatedPeople.find(({id:_})=>_===c);function s(){n=this.clientHeight,l(3,n)}return a.$$set=c=>{"data"in c&&l(0,i=c.data)},a.$$.update=()=>{if(a.$$.dirty&3){const c=i.affiliations.map(g=>C(g,"notes_institution",t)).filter(g=>(g==null?void 0:g.length)>0);l(2,o=[...new Set(c)])}},[i,t,o,n,r,f,s]}class gt extends ee{constructor(e){super(),te(this,e,ot,rt,G,{data:0})}}export{gt as component,pt as universal};
